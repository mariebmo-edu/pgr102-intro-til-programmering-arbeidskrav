<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Et forslag</title>
    <link rel="stylesheet" href="profil_style.css">
</head>
<body>

	<div>
		
		<header>
			<h1>FindYourLove</h1>
		</header>
		
		<nav>
			<ul>
				<li><a href="alle-profiler.html">Alle profiler</a></li>
				<li><a href="dagens-profil.html">Dagens profil</a></li>
			</ul>
		</nav>
		
		<main>
		
			<section>
				<label>Tast inn Ã¸nsket alder</label>
				<input type="text" id="age_selection"><br>
				<label>Mann eller kvinne?</label>
				<input type="text" id="gender_selection">
				<input type="button" value="Vis forslag" id="vis_forslag">
			</section>
			
			<section>
                <div id=no_profile_found></div>
				<!-- Skriv ut en profil her -->
                <div id="chosen_profile">
                
                
                </div>
			</section>
			
		</main>
		
	</div>
    
    <!--Script containing all profiles
    Name, Gender, Age, Image, Description*/-->
    <script src="profil_container.js"></script>
    
    
    <script>
        
        /*HTML ELEMENTS*/
        var chosenProfile = document.getElementById("chosen_profile")
        var noProfileFound = document.getElementById("no_profile_found")
        
        /*input fields*/
        var ageSelection = document.getElementById("age_selection");
        var genderSelection = document.getElementById("gender_selection");
        
        /*button*/
        var submitButton = document.getElementById("vis_forslag")
        
        
        
        
        /* ON CLICK EVENT*/
        submitButton.onclick = showProfiles;
        
        /*SHOWING PROFILES*/
        function showProfiles(){
            
            /*VARIABLES*/
            var inputAge = (parseInt(ageSelection.value));
            var inputGender = genderSelection.value.toLowerCase();
            
            
            /*resetting search when clicking "vis forslag"*/ 
            chosenProfile.innerHTML = ""

            /*adding profiles matching search*/
            for (i=0; i<allProfiles.length; i++){
                
                /*Variables*/
                var profileAge = allProfiles[i].age;
                var profileGender = allProfiles[i].gender;
                
                if (inputAge === profileAge && inputGender === profileGender){
                    PrintProfile(chosenProfile);
                }
            }
            
            /*IF THERE'S NO MATCHES, GIVE SUGGESTIONS*/
            if (chosenProfile.innerHTML === ""){
                
                noProfileFound.innerHTML = "INGEN TREFF. HVA MED EN AV DISSE?"
                
                for (i=0; i<allProfiles.length; i++){
                    
                    /*Variables*/
                    var profileAge = allProfiles[i].age;
                    var profileGender = allProfiles[i].gender;
                    
                    var isRightGender = inputGender === profileGender
                    var ageDiff = Math.abs(inputAge - profileAge)
                    var isRightAge = ageDiff <= 5 
                    
                    /*SHOWS SAME GENDER AND AGES IN A +-5 YEAR RANGE FROM WANTED AGE*/ 
                    if (isRightGender && isRightAge){
                        PrintProfile(chosenProfile);
                    }
                }
            }

        }
    </script>
	
</body>
</html>